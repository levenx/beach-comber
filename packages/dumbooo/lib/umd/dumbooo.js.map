{"version":3,"file":"dumbooo.js","sources":["../../components/Button/index.tsx","../../components/Drawer/index.tsx","../../components/Progress/index.tsx","../../components/Icon/index.tsx","../../components/Upload/index.tsx","../../components/Loading/index.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\nimport classnames from 'classnames';\nimport { BaseType } from '../typing';\nimport './index.less';\n\nexport interface IButton extends BaseType {\n    block?: boolean;\n    size?: 'large' | 'middle' | 'small';\n    type?: 'default' | 'primary' | 'danger' | 'dashed' | 'text' | 'link';\n    shape?: 'default' | 'circle' | 'round';\n    loading?: boolean;\n    disabled?: boolean;\n}\n\nexport default function Button(props: IButton) {\n    const { type = \"default\", block, shape, disabled, children, onClick, } = props;\n    return (\n        <div>\n            <button\n                disabled={disabled}\n                className={classnames(\"dumbo-button\", `dumbo-button--${type}`,\n                    {\n                        'dumbo-button--block': block,\n                        'dumbo-button--circle': shape === 'circle',\n                        'dumbo-button--disabled': disabled\n                    })} onClick={onClick}>\n                {children}\n            </button>\n        </div>\n    )\n}\n","import React, { ReactNode } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { BaseType } from '../typing';\nimport './index.less';\n\nexport interface DrawerProps extends BaseType {\n    visible: boolean;\n    width?: number;\n    mask?: boolean;\n    onClose?: () => void;\n    header?: ReactNode;\n    footer?: ReactNode;\n}\n\nexport default function Drawer(props: DrawerProps) {\n    const { visible, width = 400, className = '' } = props;\n    return (\n        <CSSTransition classNames=\"drawer\" in={visible} timeout={200} appear>\n            <div className={`${className} drawer`} style={{ width }}>\n                Drawer\n            </div>\n        </CSSTransition>\n    )\n}\n","import React, { useMemo } from 'react';\nimport classnames from 'classnames';\nimport { BaseType } from '../typing';\nimport './index.less';\n\nexport interface IProgress extends BaseType {\n    percent: number;\n}\n\nexport default function Progress(props: IProgress) {\n    const { percent = 0 } = props;\n\n    const width = useMemo(() => {\n        return { width: `${percent}%` }\n    }, [percent])\n\n    return (\n        <div className=\"dumbo-progress\">\n            <div className=\"dumbo-progress--percent\" style={width}></div>\n        </div>\n    )\n}\n","import React, { useMemo } from 'react';\nimport classnames from 'classnames';\nimport { BaseType } from '../typing';\nimport '../style/font.css';\nimport './index.less';\n\nexport interface IconProps extends BaseType {\n    name: string;\n    size?: number;\n    color?: string;\n}\n\nexport default function Icon(props: IconProps) {\n    const { name, size = 18, color = '#333', className = '', onClick, } = props;\n\n    const targetClass = useMemo(() => {\n        return `iconfont icon-${name} ${className}`;\n    }, [name])\n\n    return (\n        <div>\n            <span className={targetClass} style={{ fontSize: size, color }} />\n        </div>\n    )\n}\n","import React, { useState, useRef, ReactNode, ChangeEvent } from 'react';\nimport classnames from 'classnames';\nimport Progress from '../Progress';\nimport Icon from '../Icon';\nimport { BaseType } from '../typing';\nimport axios from 'axios';\nimport './index.less';\n\nexport interface IUpload extends BaseType {\n    onUpload: (file: File, onProgress: (progressEvent: any) => void) => Promise<string>;\n    files: Array<string>;\n}\n\nexport default function Upload(props: IUpload) {\n    const { files, onUpload } = props;\n    const uploadRef = useRef<HTMLInputElement>(null);\n    const [loading, setLoading] = useState<boolean>(false);\n    const [picture, setPicture] = useState(null);\n\n    const onUploadClick = () => {\n        uploadRef.current.click();\n    }\n\n    const onUploadChange = (file: File) => {\n\n        setLoading(true)\n        setPicture({ name: file.name });\n\n        onUpload(file, (progressEvent: any) => {\n            let percent = (progressEvent.loaded / progressEvent.total * 100 | 0)\n            setPicture({ ...picture, percent });\n        }).then(file => {\n            setLoading(false);\n        })\n    }\n\n    return (\n        <div className=\"dumbo-upload\">\n            {\n                files.map(picture => {\n                    return <div className=\"dumbo-upload--item\">\n                        <img src={picture} />\n                    </div>\n                })\n            }\n\n            <div className=\"dumbo-upload--item dumbo-upload--add\" onClick={onUploadClick}>\n                {\n                    loading ?\n                        <>\n                            <Progress percent={picture.percent} />\n                        </>\n                        :\n                        <>\n                            <Icon name=\"zengjia\" />\n                            <div>上传</div>\n                        </>\n                }\n            </div>\n\n            <input ref={uploadRef}\n                type=\"file\"\n                style={{ display: 'none' }}\n                onChange={(event: ChangeEvent<HTMLInputElement>) => {\n                    const file = event.target.files[0];\n                    onUploadChange(file);\n                }} />\n        </div>\n    )\n}\n","import React, { ReactNode } from 'react';\nimport classnames from 'classnames';\nimport { BaseType } from '../typing';\nimport './index.less';\n\nexport interface IButton extends BaseType {\n    size?: number | string;\n    loading: boolean;\n}\n\nexport default function Button(props: IButton) {\n    const { size, loading, children } = props;\n    return (\n        <>\n            {\n                loading ? <div className=\"dumbo-loading\" style={{ width: size, height: size }}>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                </div>\n                    :\n                    children\n            }\n        </>\n    )\n}\n"],"names":["Button","React","classnames","CSSTransition","useMemo","useRef","useState"],"mappings":";;;;;;;;;;;;aAcwBA,QAAM,CAAC,KAAc;QACzC,MAAM,EAAE,IAAI,GAAG,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,GAAG,GAAG,KAAK,CAAC;QAC/E,QACIC;YACIA,oDACI,QAAQ,EAAE,QAAQ,EAClB,SAAS,EAAEC,8BAAU,CAAC,cAAc,EAAE,iBAAiB,IAAI,EAAE,EACzD;oBACI,qBAAqB,EAAE,KAAK;oBAC5B,sBAAsB,EAAE,KAAK,KAAK,QAAQ;oBAC1C,wBAAwB,EAAE,QAAQ;iBACrC,CAAC,EAAE,OAAO,EAAE,OAAO,IACvB,QAAQ,CACJ,CACP,EACT;IACL;;aChBwB,MAAM,CAAC,KAAkB;QAC7C,MAAM,EAAE,OAAO,EAAE,KAAK,GAAG,GAAG,EAAE,SAAS,GAAG,EAAE,EAAE,GAAG,KAAK,CAAC;QACvD,QACID,wCAACE,kCAAa,IAAC,UAAU,EAAC,QAAQ,EAAC,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,EAAE,MAAM;YAChEF,iDAAK,SAAS,EAAE,GAAG,SAAS,SAAS,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,aAEjD,CACM,EACnB;IACL;;aCdwB,QAAQ,CAAC,KAAgB;QAC7C,MAAM,EAAE,OAAO,GAAG,CAAC,EAAE,GAAG,KAAK,CAAC;QAE9B,MAAM,KAAK,GAAGG,aAAO,CAAC;YAClB,OAAO,EAAE,KAAK,EAAE,GAAG,OAAO,GAAG,EAAE,CAAA;SAClC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAA;QAEb,QACIH,iDAAK,SAAS,EAAC,gBAAgB;YAC3BA,iDAAK,SAAS,EAAC,yBAAyB,EAAC,KAAK,EAAE,KAAK,GAAQ,CAC3D,EACT;IACL;;aCTwB,IAAI,CAAC,KAAgB;QACzC,MAAM,EAAE,IAAI,EAAE,IAAI,GAAG,EAAE,EAAE,KAAK,GAAG,MAAM,EAAE,SAAS,GAAG,EAAE,EAAE,OAAO,GAAG,GAAG,KAAK,CAAC;QAE5E,MAAM,WAAW,GAAGG,aAAO,CAAC;YACxB,OAAO,iBAAiB,IAAI,IAAI,SAAS,EAAE,CAAC;SAC/C,EAAE,CAAC,IAAI,CAAC,CAAC,CAAA;QAEV,QACIH;YACIA,kDAAM,SAAS,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,GAAI,CAChE,EACT;IACL;;aCXwB,MAAM,CAAC,KAAc;QACzC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;QAClC,MAAM,SAAS,GAAGI,YAAM,CAAmB,IAAI,CAAC,CAAC;QACjD,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAGC,cAAQ,CAAU,KAAK,CAAC,CAAC;QACvD,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAGA,cAAQ,CAAC,IAAI,CAAC,CAAC;QAE7C,MAAM,aAAa,GAAG;YAClB,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;SAC7B,CAAA;QAED,MAAM,cAAc,GAAG,CAAC,IAAU;YAE9B,UAAU,CAAC,IAAI,CAAC,CAAA;YAChB,UAAU,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;YAEhC,QAAQ,CAAC,IAAI,EAAE,CAAC,aAAkB;gBAC9B,IAAI,OAAO,IAAI,aAAa,CAAC,MAAM,GAAG,aAAa,CAAC,KAAK,GAAG,GAAG,GAAG,CAAC,CAAC,CAAA;gBACpE,UAAU,CAAC,EAAE,GAAG,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;aACvC,CAAC,CAAC,IAAI,CAAC,IAAI;gBACR,UAAU,CAAC,KAAK,CAAC,CAAC;aACrB,CAAC,CAAA;SACL,CAAA;QAED,QACIL,iDAAK,SAAS,EAAC,cAAc;YAErB,KAAK,CAAC,GAAG,CAAC,OAAO;gBACb,OAAOA,iDAAK,SAAS,EAAC,oBAAoB;oBACtCA,iDAAK,GAAG,EAAE,OAAO,GAAI,CACnB,CAAA;aACT,CAAC;YAGNA,iDAAK,SAAS,EAAC,sCAAsC,EAAC,OAAO,EAAE,aAAa,IAEpE,OAAO;gBACHA;oBACIA,wCAAC,QAAQ,IAAC,OAAO,EAAE,OAAO,CAAC,OAAO,GAAI,CACvC;;oBAEHA;wBACIA,wCAAC,IAAI,IAAC,IAAI,EAAC,SAAS,GAAG;wBACvBA,oEAAa,CACd,CAET;YAENA,mDAAO,GAAG,EAAE,SAAS,EACjB,IAAI,EAAC,MAAM,EACX,KAAK,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,EAC1B,QAAQ,EAAE,CAAC,KAAoC;oBAC3C,MAAM,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBACnC,cAAc,CAAC,IAAI,CAAC,CAAC;iBACxB,GAAI,CACP,EACT;IACL;;aC3DwB,MAAM,CAAC,KAAc;QACzC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;QAC1C,QACIA,kFAEQ,OAAO,GAAGA,iDAAK,SAAS,EAAC,eAAe,EAAC,KAAK,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE;YACzEA,qDAAa;YACbA,qDAAa;YACbA,qDAAa;YACbA,qDAAa;YACbA,qDAAa;YACbA,qDAAa;YACbA,qDAAa;YACbA,qDAAa,CACX;;gBAEF,QAAQ,CAEjB,EACN;IACL;;;;;;;;;;;;;;"}